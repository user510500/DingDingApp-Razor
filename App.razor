<RadzenNotification />
<RadzenDialog />

<ErrorBoundary>
    <ChildContent>
<Router AppAssembly="@typeof(App).Assembly">
    <Found Context="routeData">
        <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayoutSimple)" />
        <FocusOnNavigate RouteData="@routeData" Selector="h1" />
    </Found>
    <NotFound>
        <PageTitle>未找到</PageTitle>
        <LayoutView Layout="@typeof(MainLayoutSimple)">
                    <div style="padding: 50px; background: orange; color: black;">
                        <h1>404 - 页面未找到</h1>
                        <p>抱歉，未找到此页面：@NavigationManager.Uri</p>
                    </div>
        </LayoutView>
    </NotFound>
</Router>
    </ChildContent>
    <ErrorContent Context="exception">
        <div style="padding: 50px; background: #f8d7da; color: #721c24; border: 5px solid #721c24; margin: 20px; min-height: 100vh;">
            <h1 style="font-size: 48px; color: red;">应用错误</h1>
            <p style="font-size: 24px;"><strong>错误信息：</strong> @exception.Message</p>
            <details style="margin-top: 20px; font-size: 18px;">
                <summary style="cursor: pointer; color: #007bff;">查看详细错误</summary>
                <pre style="background: white; padding: 20px; border-radius: 4px; overflow-x: auto; margin-top: 10px; font-size: 14px;">@exception.ToString()</pre>
            </details>
            <button @onclick="() => NavigationManager.NavigateTo(NavigationManager.Uri, forceLoad: true)" 
                    style="margin-top: 20px; padding: 15px 30px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 18px;">
                刷新页面
            </button>
        </div>
    </ErrorContent>
</ErrorBoundary>

@code {
    [Inject] private NavigationManager NavigationManager { get; set; } = default!;
}

